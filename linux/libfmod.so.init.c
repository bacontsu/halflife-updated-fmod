/*
 * Copyright 2018-2022 Yury Gribov
 *
 * The MIT License (MIT)
 *
 * Use of this source code is governed by MIT license that can be
 * found in the LICENSE.txt file.
 */

#ifndef _GNU_SOURCE
#define _GNU_SOURCE // For RTLD_DEFAULT
#endif

#include <dlfcn.h>
#include <stdlib.h>
#include <string.h>
#include <stdio.h>
#include <assert.h>

// Sanity check for ARM to avoid puzzling runtime crashes
#ifdef __arm__
# if defined __thumb__ && ! defined __THUMB_INTERWORK__
#   error "ARM trampolines need -mthumb-interwork to work in Thumb mode"
# endif
#endif

#ifdef __cplusplus
extern "C" {
#endif

#define CHECK(cond, fmt, ...) do { \
    if(!(cond)) { \
      fprintf(stderr, "implib-gen: libfmod.so: " fmt "\n", ##__VA_ARGS__); \
      assert(0 && "Assertion in generated code"); \
      exit(1); \
    } \
  } while(0)

#define HAS_DLOPEN_CALLBACK 0
#define HAS_DLSYM_CALLBACK 0
#define NO_DLOPEN 1
#define LAZY_LOAD 1

static void *lib_handle;
static int do_dlclose;
static int is_lib_loading;

#if ! NO_DLOPEN
static void *load_library() {
  if(lib_handle)
    return lib_handle;

  is_lib_loading = 1;

#if HAS_DLOPEN_CALLBACK
  extern void *(const char *lib_name);
  lib_handle = ("libfmod.so");
  CHECK(lib_handle, "failed to load library 'libfmod.so' via callback ''");
#else
  lib_handle = dlopen("libfmod.so", RTLD_LAZY | RTLD_GLOBAL);
  CHECK(lib_handle, "failed to load library 'libfmod.so' via dlopen: %s", dlerror());
#endif

  do_dlclose = 1;
  is_lib_loading = 0;

  return lib_handle;
}

static void __attribute__((destructor)) unload_lib() {
  if(do_dlclose && lib_handle)
    dlclose(lib_handle);
}
#endif

#if ! NO_DLOPEN && ! LAZY_LOAD
static void __attribute__((constructor)) load_lib() {
  load_library();
}
#endif

// TODO: convert to single 0-separated string
static const char *const sym_names[] = {
  "FMOD5_ChannelGroup_AddDSP",
  "FMOD5_ChannelGroup_AddFadePoint",
  "FMOD5_ChannelGroup_AddGroup",
  "FMOD5_ChannelGroup_Get3DAttributes",
  "FMOD5_ChannelGroup_Get3DConeOrientation",
  "FMOD5_ChannelGroup_Get3DConeSettings",
  "FMOD5_ChannelGroup_Get3DCustomRolloff",
  "FMOD5_ChannelGroup_Get3DDistanceFilter",
  "FMOD5_ChannelGroup_Get3DDopplerLevel",
  "FMOD5_ChannelGroup_Get3DLevel",
  "FMOD5_ChannelGroup_Get3DMinMaxDistance",
  "FMOD5_ChannelGroup_Get3DOcclusion",
  "FMOD5_ChannelGroup_Get3DSpread",
  "FMOD5_ChannelGroup_GetAudibility",
  "FMOD5_ChannelGroup_GetChannel",
  "FMOD5_ChannelGroup_GetDSP",
  "FMOD5_ChannelGroup_GetDSPClock",
  "FMOD5_ChannelGroup_GetDSPIndex",
  "FMOD5_ChannelGroup_GetDelay",
  "FMOD5_ChannelGroup_GetFadePoints",
  "FMOD5_ChannelGroup_GetGroup",
  "FMOD5_ChannelGroup_GetLowPassGain",
  "FMOD5_ChannelGroup_GetMixMatrix",
  "FMOD5_ChannelGroup_GetMode",
  "FMOD5_ChannelGroup_GetMute",
  "FMOD5_ChannelGroup_GetName",
  "FMOD5_ChannelGroup_GetNumChannels",
  "FMOD5_ChannelGroup_GetNumDSPs",
  "FMOD5_ChannelGroup_GetNumGroups",
  "FMOD5_ChannelGroup_GetParentGroup",
  "FMOD5_ChannelGroup_GetPaused",
  "FMOD5_ChannelGroup_GetPitch",
  "FMOD5_ChannelGroup_GetReverbProperties",
  "FMOD5_ChannelGroup_GetSystemObject",
  "FMOD5_ChannelGroup_GetUserData",
  "FMOD5_ChannelGroup_GetVolume",
  "FMOD5_ChannelGroup_GetVolumeRamp",
  "FMOD5_ChannelGroup_IsPlaying",
  "FMOD5_ChannelGroup_Release",
  "FMOD5_ChannelGroup_RemoveDSP",
  "FMOD5_ChannelGroup_RemoveFadePoints",
  "FMOD5_ChannelGroup_Set3DAttributes",
  "FMOD5_ChannelGroup_Set3DConeOrientation",
  "FMOD5_ChannelGroup_Set3DConeSettings",
  "FMOD5_ChannelGroup_Set3DCustomRolloff",
  "FMOD5_ChannelGroup_Set3DDistanceFilter",
  "FMOD5_ChannelGroup_Set3DDopplerLevel",
  "FMOD5_ChannelGroup_Set3DLevel",
  "FMOD5_ChannelGroup_Set3DMinMaxDistance",
  "FMOD5_ChannelGroup_Set3DOcclusion",
  "FMOD5_ChannelGroup_Set3DSpread",
  "FMOD5_ChannelGroup_SetCallback",
  "FMOD5_ChannelGroup_SetDSPIndex",
  "FMOD5_ChannelGroup_SetDelay",
  "FMOD5_ChannelGroup_SetFadePointRamp",
  "FMOD5_ChannelGroup_SetLowPassGain",
  "FMOD5_ChannelGroup_SetMixLevelsInput",
  "FMOD5_ChannelGroup_SetMixLevelsOutput",
  "FMOD5_ChannelGroup_SetMixMatrix",
  "FMOD5_ChannelGroup_SetMode",
  "FMOD5_ChannelGroup_SetMute",
  "FMOD5_ChannelGroup_SetPan",
  "FMOD5_ChannelGroup_SetPaused",
  "FMOD5_ChannelGroup_SetPitch",
  "FMOD5_ChannelGroup_SetReverbProperties",
  "FMOD5_ChannelGroup_SetUserData",
  "FMOD5_ChannelGroup_SetVolume",
  "FMOD5_ChannelGroup_SetVolumeRamp",
  "FMOD5_ChannelGroup_Stop",
  "FMOD5_Channel_AddDSP",
  "FMOD5_Channel_AddFadePoint",
  "FMOD5_Channel_Get3DAttributes",
  "FMOD5_Channel_Get3DConeOrientation",
  "FMOD5_Channel_Get3DConeSettings",
  "FMOD5_Channel_Get3DCustomRolloff",
  "FMOD5_Channel_Get3DDistanceFilter",
  "FMOD5_Channel_Get3DDopplerLevel",
  "FMOD5_Channel_Get3DLevel",
  "FMOD5_Channel_Get3DMinMaxDistance",
  "FMOD5_Channel_Get3DOcclusion",
  "FMOD5_Channel_Get3DSpread",
  "FMOD5_Channel_GetAudibility",
  "FMOD5_Channel_GetChannelGroup",
  "FMOD5_Channel_GetCurrentSound",
  "FMOD5_Channel_GetDSP",
  "FMOD5_Channel_GetDSPClock",
  "FMOD5_Channel_GetDSPIndex",
  "FMOD5_Channel_GetDelay",
  "FMOD5_Channel_GetFadePoints",
  "FMOD5_Channel_GetFrequency",
  "FMOD5_Channel_GetIndex",
  "FMOD5_Channel_GetLoopCount",
  "FMOD5_Channel_GetLoopPoints",
  "FMOD5_Channel_GetLowPassGain",
  "FMOD5_Channel_GetMixMatrix",
  "FMOD5_Channel_GetMode",
  "FMOD5_Channel_GetMute",
  "FMOD5_Channel_GetNumDSPs",
  "FMOD5_Channel_GetPaused",
  "FMOD5_Channel_GetPitch",
  "FMOD5_Channel_GetPosition",
  "FMOD5_Channel_GetPriority",
  "FMOD5_Channel_GetReverbProperties",
  "FMOD5_Channel_GetSystemObject",
  "FMOD5_Channel_GetUserData",
  "FMOD5_Channel_GetVolume",
  "FMOD5_Channel_GetVolumeRamp",
  "FMOD5_Channel_IsPlaying",
  "FMOD5_Channel_IsVirtual",
  "FMOD5_Channel_RemoveDSP",
  "FMOD5_Channel_RemoveFadePoints",
  "FMOD5_Channel_Set3DAttributes",
  "FMOD5_Channel_Set3DConeOrientation",
  "FMOD5_Channel_Set3DConeSettings",
  "FMOD5_Channel_Set3DCustomRolloff",
  "FMOD5_Channel_Set3DDistanceFilter",
  "FMOD5_Channel_Set3DDopplerLevel",
  "FMOD5_Channel_Set3DLevel",
  "FMOD5_Channel_Set3DMinMaxDistance",
  "FMOD5_Channel_Set3DOcclusion",
  "FMOD5_Channel_Set3DSpread",
  "FMOD5_Channel_SetCallback",
  "FMOD5_Channel_SetChannelGroup",
  "FMOD5_Channel_SetDSPIndex",
  "FMOD5_Channel_SetDelay",
  "FMOD5_Channel_SetFadePointRamp",
  "FMOD5_Channel_SetFrequency",
  "FMOD5_Channel_SetLoopCount",
  "FMOD5_Channel_SetLoopPoints",
  "FMOD5_Channel_SetLowPassGain",
  "FMOD5_Channel_SetMixLevelsInput",
  "FMOD5_Channel_SetMixLevelsOutput",
  "FMOD5_Channel_SetMixMatrix",
  "FMOD5_Channel_SetMode",
  "FMOD5_Channel_SetMute",
  "FMOD5_Channel_SetPan",
  "FMOD5_Channel_SetPaused",
  "FMOD5_Channel_SetPitch",
  "FMOD5_Channel_SetPosition",
  "FMOD5_Channel_SetPriority",
  "FMOD5_Channel_SetReverbProperties",
  "FMOD5_Channel_SetUserData",
  "FMOD5_Channel_SetVolume",
  "FMOD5_Channel_SetVolumeRamp",
  "FMOD5_Channel_Stop",
  "FMOD5_DSPConnection_GetInput",
  "FMOD5_DSPConnection_GetMix",
  "FMOD5_DSPConnection_GetMixMatrix",
  "FMOD5_DSPConnection_GetOutput",
  "FMOD5_DSPConnection_GetType",
  "FMOD5_DSPConnection_GetUserData",
  "FMOD5_DSPConnection_SetMix",
  "FMOD5_DSPConnection_SetMixMatrix",
  "FMOD5_DSPConnection_SetUserData",
  "FMOD5_DSP_AddInput",
  "FMOD5_DSP_DisconnectAll",
  "FMOD5_DSP_DisconnectFrom",
  "FMOD5_DSP_GetActive",
  "FMOD5_DSP_GetBypass",
  "FMOD5_DSP_GetCPUUsage",
  "FMOD5_DSP_GetChannelFormat",
  "FMOD5_DSP_GetDataParameterIndex",
  "FMOD5_DSP_GetIdle",
  "FMOD5_DSP_GetInfo",
  "FMOD5_DSP_GetInput",
  "FMOD5_DSP_GetMeteringEnabled",
  "FMOD5_DSP_GetMeteringInfo",
  "FMOD5_DSP_GetNumInputs",
  "FMOD5_DSP_GetNumOutputs",
  "FMOD5_DSP_GetNumParameters",
  "FMOD5_DSP_GetOutput",
  "FMOD5_DSP_GetOutputChannelFormat",
  "FMOD5_DSP_GetParameterBool",
  "FMOD5_DSP_GetParameterData",
  "FMOD5_DSP_GetParameterFloat",
  "FMOD5_DSP_GetParameterInfo",
  "FMOD5_DSP_GetParameterInt",
  "FMOD5_DSP_GetSystemObject",
  "FMOD5_DSP_GetType",
  "FMOD5_DSP_GetUserData",
  "FMOD5_DSP_GetWetDryMix",
  "FMOD5_DSP_Release",
  "FMOD5_DSP_Reset",
  "FMOD5_DSP_SetActive",
  "FMOD5_DSP_SetBypass",
  "FMOD5_DSP_SetChannelFormat",
  "FMOD5_DSP_SetMeteringEnabled",
  "FMOD5_DSP_SetParameterBool",
  "FMOD5_DSP_SetParameterData",
  "FMOD5_DSP_SetParameterFloat",
  "FMOD5_DSP_SetParameterInt",
  "FMOD5_DSP_SetUserData",
  "FMOD5_DSP_SetWetDryMix",
  "FMOD5_DSP_ShowConfigDialog",
  "FMOD5_Debug_Initialize",
  "FMOD5_File_GetDiskBusy",
  "FMOD5_File_SetDiskBusy",
  "FMOD5_Geometry_AddPolygon",
  "FMOD5_Geometry_GetActive",
  "FMOD5_Geometry_GetMaxPolygons",
  "FMOD5_Geometry_GetNumPolygons",
  "FMOD5_Geometry_GetPolygonAttributes",
  "FMOD5_Geometry_GetPolygonNumVertices",
  "FMOD5_Geometry_GetPolygonVertex",
  "FMOD5_Geometry_GetPosition",
  "FMOD5_Geometry_GetRotation",
  "FMOD5_Geometry_GetScale",
  "FMOD5_Geometry_GetUserData",
  "FMOD5_Geometry_Release",
  "FMOD5_Geometry_Save",
  "FMOD5_Geometry_SetActive",
  "FMOD5_Geometry_SetPolygonAttributes",
  "FMOD5_Geometry_SetPolygonVertex",
  "FMOD5_Geometry_SetPosition",
  "FMOD5_Geometry_SetRotation",
  "FMOD5_Geometry_SetScale",
  "FMOD5_Geometry_SetUserData",
  "FMOD5_Memory_GetStats",
  "FMOD5_Memory_Initialize",
  "FMOD5_Reverb3D_Get3DAttributes",
  "FMOD5_Reverb3D_GetActive",
  "FMOD5_Reverb3D_GetProperties",
  "FMOD5_Reverb3D_GetUserData",
  "FMOD5_Reverb3D_Release",
  "FMOD5_Reverb3D_Set3DAttributes",
  "FMOD5_Reverb3D_SetActive",
  "FMOD5_Reverb3D_SetProperties",
  "FMOD5_Reverb3D_SetUserData",
  "FMOD5_SoundGroup_GetMaxAudible",
  "FMOD5_SoundGroup_GetMaxAudibleBehavior",
  "FMOD5_SoundGroup_GetMuteFadeSpeed",
  "FMOD5_SoundGroup_GetName",
  "FMOD5_SoundGroup_GetNumPlaying",
  "FMOD5_SoundGroup_GetNumSounds",
  "FMOD5_SoundGroup_GetSound",
  "FMOD5_SoundGroup_GetSystemObject",
  "FMOD5_SoundGroup_GetUserData",
  "FMOD5_SoundGroup_GetVolume",
  "FMOD5_SoundGroup_Release",
  "FMOD5_SoundGroup_SetMaxAudible",
  "FMOD5_SoundGroup_SetMaxAudibleBehavior",
  "FMOD5_SoundGroup_SetMuteFadeSpeed",
  "FMOD5_SoundGroup_SetUserData",
  "FMOD5_SoundGroup_SetVolume",
  "FMOD5_SoundGroup_Stop",
  "FMOD5_Sound_AddSyncPoint",
  "FMOD5_Sound_DeleteSyncPoint",
  "FMOD5_Sound_Get3DConeSettings",
  "FMOD5_Sound_Get3DCustomRolloff",
  "FMOD5_Sound_Get3DMinMaxDistance",
  "FMOD5_Sound_GetDefaults",
  "FMOD5_Sound_GetFormat",
  "FMOD5_Sound_GetLength",
  "FMOD5_Sound_GetLoopCount",
  "FMOD5_Sound_GetLoopPoints",
  "FMOD5_Sound_GetMode",
  "FMOD5_Sound_GetMusicChannelVolume",
  "FMOD5_Sound_GetMusicNumChannels",
  "FMOD5_Sound_GetMusicSpeed",
  "FMOD5_Sound_GetName",
  "FMOD5_Sound_GetNumSubSounds",
  "FMOD5_Sound_GetNumSyncPoints",
  "FMOD5_Sound_GetNumTags",
  "FMOD5_Sound_GetOpenState",
  "FMOD5_Sound_GetSoundGroup",
  "FMOD5_Sound_GetSubSound",
  "FMOD5_Sound_GetSubSoundParent",
  "FMOD5_Sound_GetSyncPoint",
  "FMOD5_Sound_GetSyncPointInfo",
  "FMOD5_Sound_GetSystemObject",
  "FMOD5_Sound_GetTag",
  "FMOD5_Sound_GetUserData",
  "FMOD5_Sound_Lock",
  "FMOD5_Sound_ReadData",
  "FMOD5_Sound_Release",
  "FMOD5_Sound_SeekData",
  "FMOD5_Sound_Set3DConeSettings",
  "FMOD5_Sound_Set3DCustomRolloff",
  "FMOD5_Sound_Set3DMinMaxDistance",
  "FMOD5_Sound_SetDefaults",
  "FMOD5_Sound_SetLoopCount",
  "FMOD5_Sound_SetLoopPoints",
  "FMOD5_Sound_SetMode",
  "FMOD5_Sound_SetMusicChannelVolume",
  "FMOD5_Sound_SetMusicSpeed",
  "FMOD5_Sound_SetSoundGroup",
  "FMOD5_Sound_SetUserData",
  "FMOD5_Sound_Unlock",
  "FMOD5_System_AttachChannelGroupToPort",
  "FMOD5_System_AttachFileSystem",
  "FMOD5_System_Close",
  "FMOD5_System_Create",
  "FMOD5_System_CreateChannelGroup",
  "FMOD5_System_CreateDSP",
  "FMOD5_System_CreateDSPByPlugin",
  "FMOD5_System_CreateDSPByType",
  "FMOD5_System_CreateGeometry",
  "FMOD5_System_CreateReverb3D",
  "FMOD5_System_CreateSound",
  "FMOD5_System_CreateSoundGroup",
  "FMOD5_System_CreateStream",
  "FMOD5_System_DetachChannelGroupFromPort",
  "FMOD5_System_Get3DListenerAttributes",
  "FMOD5_System_Get3DNumListeners",
  "FMOD5_System_Get3DSettings",
  "FMOD5_System_GetAdvancedSettings",
  "FMOD5_System_GetCPUUsage",
  "FMOD5_System_GetChannel",
  "FMOD5_System_GetChannelsPlaying",
  "FMOD5_System_GetDSPBufferSize",
  "FMOD5_System_GetDSPInfoByPlugin",
  "FMOD5_System_GetDSPInfoByType",
  "FMOD5_System_GetDefaultMixMatrix",
  "FMOD5_System_GetDriver",
  "FMOD5_System_GetDriverInfo",
  "FMOD5_System_GetFileUsage",
  "FMOD5_System_GetGeometryOcclusion",
  "FMOD5_System_GetGeometrySettings",
  "FMOD5_System_GetMasterChannelGroup",
  "FMOD5_System_GetMasterSoundGroup",
  "FMOD5_System_GetNestedPlugin",
  "FMOD5_System_GetNetworkProxy",
  "FMOD5_System_GetNetworkTimeout",
  "FMOD5_System_GetNumDrivers",
  "FMOD5_System_GetNumNestedPlugins",
  "FMOD5_System_GetNumPlugins",
  "FMOD5_System_GetOutput",
  "FMOD5_System_GetOutputByPlugin",
  "FMOD5_System_GetOutputHandle",
  "FMOD5_System_GetPluginHandle",
  "FMOD5_System_GetPluginInfo",
  "FMOD5_System_GetRecordDriverInfo",
  "FMOD5_System_GetRecordNumDrivers",
  "FMOD5_System_GetRecordPosition",
  "FMOD5_System_GetReverbProperties",
  "FMOD5_System_GetSoftwareChannels",
  "FMOD5_System_GetSoftwareFormat",
  "FMOD5_System_GetSpeakerModeChannels",
  "FMOD5_System_GetSpeakerPosition",
  "FMOD5_System_GetStreamBufferSize",
  "FMOD5_System_GetUserData",
  "FMOD5_System_GetVersion",
  "FMOD5_System_Init",
  "FMOD5_System_IsRecording",
  "FMOD5_System_LoadGeometry",
  "FMOD5_System_LoadPlugin",
  "FMOD5_System_LockDSP",
  "FMOD5_System_MixerResume",
  "FMOD5_System_MixerSuspend",
  "FMOD5_System_PlayDSP",
  "FMOD5_System_PlaySound",
  "FMOD5_System_RecordStart",
  "FMOD5_System_RecordStop",
  "FMOD5_System_RegisterCodec",
  "FMOD5_System_RegisterDSP",
  "FMOD5_System_RegisterOutput",
  "FMOD5_System_Release",
  "FMOD5_System_Set3DListenerAttributes",
  "FMOD5_System_Set3DNumListeners",
  "FMOD5_System_Set3DRolloffCallback",
  "FMOD5_System_Set3DSettings",
  "FMOD5_System_SetAdvancedSettings",
  "FMOD5_System_SetCallback",
  "FMOD5_System_SetDSPBufferSize",
  "FMOD5_System_SetDriver",
  "FMOD5_System_SetFileSystem",
  "FMOD5_System_SetGeometrySettings",
  "FMOD5_System_SetNetworkProxy",
  "FMOD5_System_SetNetworkTimeout",
  "FMOD5_System_SetOutput",
  "FMOD5_System_SetOutputByPlugin",
  "FMOD5_System_SetPluginPath",
  "FMOD5_System_SetReverbProperties",
  "FMOD5_System_SetSoftwareChannels",
  "FMOD5_System_SetSoftwareFormat",
  "FMOD5_System_SetSpeakerPosition",
  "FMOD5_System_SetStreamBufferSize",
  "FMOD5_System_SetUserData",
  "FMOD5_System_UnloadPlugin",
  "FMOD5_System_UnlockDSP",
  "FMOD5_System_Update",
  "FMOD5_Thread_SetAttributes",
  "FMOD_ChannelGroup_AddDSP",
  "FMOD_ChannelGroup_AddFadePoint",
  "FMOD_ChannelGroup_AddGroup",
  "FMOD_ChannelGroup_Get3DAttributes",
  "FMOD_ChannelGroup_Get3DConeOrientation",
  "FMOD_ChannelGroup_Get3DConeSettings",
  "FMOD_ChannelGroup_Get3DCustomRolloff",
  "FMOD_ChannelGroup_Get3DDistanceFilter",
  "FMOD_ChannelGroup_Get3DDopplerLevel",
  "FMOD_ChannelGroup_Get3DLevel",
  "FMOD_ChannelGroup_Get3DMinMaxDistance",
  "FMOD_ChannelGroup_Get3DOcclusion",
  "FMOD_ChannelGroup_Get3DSpread",
  "FMOD_ChannelGroup_GetAudibility",
  "FMOD_ChannelGroup_GetChannel",
  "FMOD_ChannelGroup_GetDSP",
  "FMOD_ChannelGroup_GetDSPClock",
  "FMOD_ChannelGroup_GetDSPIndex",
  "FMOD_ChannelGroup_GetDelay",
  "FMOD_ChannelGroup_GetFadePoints",
  "FMOD_ChannelGroup_GetGroup",
  "FMOD_ChannelGroup_GetLowPassGain",
  "FMOD_ChannelGroup_GetMixMatrix",
  "FMOD_ChannelGroup_GetMode",
  "FMOD_ChannelGroup_GetMute",
  "FMOD_ChannelGroup_GetName",
  "FMOD_ChannelGroup_GetNumChannels",
  "FMOD_ChannelGroup_GetNumDSPs",
  "FMOD_ChannelGroup_GetNumGroups",
  "FMOD_ChannelGroup_GetParentGroup",
  "FMOD_ChannelGroup_GetPaused",
  "FMOD_ChannelGroup_GetPitch",
  "FMOD_ChannelGroup_GetReverbProperties",
  "FMOD_ChannelGroup_GetSystemObject",
  "FMOD_ChannelGroup_GetUserData",
  "FMOD_ChannelGroup_GetVolume",
  "FMOD_ChannelGroup_GetVolumeRamp",
  "FMOD_ChannelGroup_IsPlaying",
  "FMOD_ChannelGroup_Release",
  "FMOD_ChannelGroup_RemoveDSP",
  "FMOD_ChannelGroup_RemoveFadePoints",
  "FMOD_ChannelGroup_Set3DAttributes",
  "FMOD_ChannelGroup_Set3DConeOrientation",
  "FMOD_ChannelGroup_Set3DConeSettings",
  "FMOD_ChannelGroup_Set3DCustomRolloff",
  "FMOD_ChannelGroup_Set3DDistanceFilter",
  "FMOD_ChannelGroup_Set3DDopplerLevel",
  "FMOD_ChannelGroup_Set3DLevel",
  "FMOD_ChannelGroup_Set3DMinMaxDistance",
  "FMOD_ChannelGroup_Set3DOcclusion",
  "FMOD_ChannelGroup_Set3DSpread",
  "FMOD_ChannelGroup_SetCallback",
  "FMOD_ChannelGroup_SetDSPIndex",
  "FMOD_ChannelGroup_SetDelay",
  "FMOD_ChannelGroup_SetFadePointRamp",
  "FMOD_ChannelGroup_SetLowPassGain",
  "FMOD_ChannelGroup_SetMixLevelsInput",
  "FMOD_ChannelGroup_SetMixLevelsOutput",
  "FMOD_ChannelGroup_SetMixMatrix",
  "FMOD_ChannelGroup_SetMode",
  "FMOD_ChannelGroup_SetMute",
  "FMOD_ChannelGroup_SetPan",
  "FMOD_ChannelGroup_SetPaused",
  "FMOD_ChannelGroup_SetPitch",
  "FMOD_ChannelGroup_SetReverbProperties",
  "FMOD_ChannelGroup_SetUserData",
  "FMOD_ChannelGroup_SetVolume",
  "FMOD_ChannelGroup_SetVolumeRamp",
  "FMOD_ChannelGroup_Stop",
  "FMOD_Channel_AddDSP",
  "FMOD_Channel_AddFadePoint",
  "FMOD_Channel_Get3DAttributes",
  "FMOD_Channel_Get3DConeOrientation",
  "FMOD_Channel_Get3DConeSettings",
  "FMOD_Channel_Get3DCustomRolloff",
  "FMOD_Channel_Get3DDistanceFilter",
  "FMOD_Channel_Get3DDopplerLevel",
  "FMOD_Channel_Get3DLevel",
  "FMOD_Channel_Get3DMinMaxDistance",
  "FMOD_Channel_Get3DOcclusion",
  "FMOD_Channel_Get3DSpread",
  "FMOD_Channel_GetAudibility",
  "FMOD_Channel_GetChannelGroup",
  "FMOD_Channel_GetCurrentSound",
  "FMOD_Channel_GetDSP",
  "FMOD_Channel_GetDSPClock",
  "FMOD_Channel_GetDSPIndex",
  "FMOD_Channel_GetDelay",
  "FMOD_Channel_GetFadePoints",
  "FMOD_Channel_GetFrequency",
  "FMOD_Channel_GetIndex",
  "FMOD_Channel_GetLoopCount",
  "FMOD_Channel_GetLoopPoints",
  "FMOD_Channel_GetLowPassGain",
  "FMOD_Channel_GetMixMatrix",
  "FMOD_Channel_GetMode",
  "FMOD_Channel_GetMute",
  "FMOD_Channel_GetNumDSPs",
  "FMOD_Channel_GetPaused",
  "FMOD_Channel_GetPitch",
  "FMOD_Channel_GetPosition",
  "FMOD_Channel_GetPriority",
  "FMOD_Channel_GetReverbProperties",
  "FMOD_Channel_GetSystemObject",
  "FMOD_Channel_GetUserData",
  "FMOD_Channel_GetVolume",
  "FMOD_Channel_GetVolumeRamp",
  "FMOD_Channel_IsPlaying",
  "FMOD_Channel_IsVirtual",
  "FMOD_Channel_RemoveDSP",
  "FMOD_Channel_RemoveFadePoints",
  "FMOD_Channel_Set3DAttributes",
  "FMOD_Channel_Set3DConeOrientation",
  "FMOD_Channel_Set3DConeSettings",
  "FMOD_Channel_Set3DCustomRolloff",
  "FMOD_Channel_Set3DDistanceFilter",
  "FMOD_Channel_Set3DDopplerLevel",
  "FMOD_Channel_Set3DLevel",
  "FMOD_Channel_Set3DMinMaxDistance",
  "FMOD_Channel_Set3DOcclusion",
  "FMOD_Channel_Set3DSpread",
  "FMOD_Channel_SetCallback",
  "FMOD_Channel_SetChannelGroup",
  "FMOD_Channel_SetDSPIndex",
  "FMOD_Channel_SetDelay",
  "FMOD_Channel_SetFadePointRamp",
  "FMOD_Channel_SetFrequency",
  "FMOD_Channel_SetLoopCount",
  "FMOD_Channel_SetLoopPoints",
  "FMOD_Channel_SetLowPassGain",
  "FMOD_Channel_SetMixLevelsInput",
  "FMOD_Channel_SetMixLevelsOutput",
  "FMOD_Channel_SetMixMatrix",
  "FMOD_Channel_SetMode",
  "FMOD_Channel_SetMute",
  "FMOD_Channel_SetPan",
  "FMOD_Channel_SetPaused",
  "FMOD_Channel_SetPitch",
  "FMOD_Channel_SetPosition",
  "FMOD_Channel_SetPriority",
  "FMOD_Channel_SetReverbProperties",
  "FMOD_Channel_SetUserData",
  "FMOD_Channel_SetVolume",
  "FMOD_Channel_SetVolumeRamp",
  "FMOD_Channel_Stop",
  "FMOD_DSPConnection_GetInput",
  "FMOD_DSPConnection_GetMix",
  "FMOD_DSPConnection_GetMixMatrix",
  "FMOD_DSPConnection_GetOutput",
  "FMOD_DSPConnection_GetType",
  "FMOD_DSPConnection_GetUserData",
  "FMOD_DSPConnection_SetMix",
  "FMOD_DSPConnection_SetMixMatrix",
  "FMOD_DSPConnection_SetUserData",
  "FMOD_DSP_AddInput",
  "FMOD_DSP_DisconnectAll",
  "FMOD_DSP_DisconnectFrom",
  "FMOD_DSP_GetActive",
  "FMOD_DSP_GetBypass",
  "FMOD_DSP_GetCPUUsage",
  "FMOD_DSP_GetChannelFormat",
  "FMOD_DSP_GetDataParameterIndex",
  "FMOD_DSP_GetIdle",
  "FMOD_DSP_GetInfo",
  "FMOD_DSP_GetInput",
  "FMOD_DSP_GetMeteringEnabled",
  "FMOD_DSP_GetMeteringInfo",
  "FMOD_DSP_GetNumInputs",
  "FMOD_DSP_GetNumOutputs",
  "FMOD_DSP_GetNumParameters",
  "FMOD_DSP_GetOutput",
  "FMOD_DSP_GetOutputChannelFormat",
  "FMOD_DSP_GetParameterBool",
  "FMOD_DSP_GetParameterData",
  "FMOD_DSP_GetParameterFloat",
  "FMOD_DSP_GetParameterInfo",
  "FMOD_DSP_GetParameterInt",
  "FMOD_DSP_GetSystemObject",
  "FMOD_DSP_GetType",
  "FMOD_DSP_GetUserData",
  "FMOD_DSP_GetWetDryMix",
  "FMOD_DSP_Release",
  "FMOD_DSP_Reset",
  "FMOD_DSP_SetActive",
  "FMOD_DSP_SetBypass",
  "FMOD_DSP_SetChannelFormat",
  "FMOD_DSP_SetMeteringEnabled",
  "FMOD_DSP_SetParameterBool",
  "FMOD_DSP_SetParameterData",
  "FMOD_DSP_SetParameterFloat",
  "FMOD_DSP_SetParameterInt",
  "FMOD_DSP_SetUserData",
  "FMOD_DSP_SetWetDryMix",
  "FMOD_DSP_ShowConfigDialog",
  "FMOD_Debug_Initialize",
  "FMOD_File_GetDiskBusy",
  "FMOD_File_SetDiskBusy",
  "FMOD_Geometry_AddPolygon",
  "FMOD_Geometry_GetActive",
  "FMOD_Geometry_GetMaxPolygons",
  "FMOD_Geometry_GetNumPolygons",
  "FMOD_Geometry_GetPolygonAttributes",
  "FMOD_Geometry_GetPolygonNumVertices",
  "FMOD_Geometry_GetPolygonVertex",
  "FMOD_Geometry_GetPosition",
  "FMOD_Geometry_GetRotation",
  "FMOD_Geometry_GetScale",
  "FMOD_Geometry_GetUserData",
  "FMOD_Geometry_Release",
  "FMOD_Geometry_Save",
  "FMOD_Geometry_SetActive",
  "FMOD_Geometry_SetPolygonAttributes",
  "FMOD_Geometry_SetPolygonVertex",
  "FMOD_Geometry_SetPosition",
  "FMOD_Geometry_SetRotation",
  "FMOD_Geometry_SetScale",
  "FMOD_Geometry_SetUserData",
  "FMOD_Memory_GetStats",
  "FMOD_Memory_Initialize",
  "FMOD_Reverb3D_Get3DAttributes",
  "FMOD_Reverb3D_GetActive",
  "FMOD_Reverb3D_GetProperties",
  "FMOD_Reverb3D_GetUserData",
  "FMOD_Reverb3D_Release",
  "FMOD_Reverb3D_Set3DAttributes",
  "FMOD_Reverb3D_SetActive",
  "FMOD_Reverb3D_SetProperties",
  "FMOD_Reverb3D_SetUserData",
  "FMOD_SoundGroup_GetMaxAudible",
  "FMOD_SoundGroup_GetMaxAudibleBehavior",
  "FMOD_SoundGroup_GetMuteFadeSpeed",
  "FMOD_SoundGroup_GetName",
  "FMOD_SoundGroup_GetNumPlaying",
  "FMOD_SoundGroup_GetNumSounds",
  "FMOD_SoundGroup_GetSound",
  "FMOD_SoundGroup_GetSystemObject",
  "FMOD_SoundGroup_GetUserData",
  "FMOD_SoundGroup_GetVolume",
  "FMOD_SoundGroup_Release",
  "FMOD_SoundGroup_SetMaxAudible",
  "FMOD_SoundGroup_SetMaxAudibleBehavior",
  "FMOD_SoundGroup_SetMuteFadeSpeed",
  "FMOD_SoundGroup_SetUserData",
  "FMOD_SoundGroup_SetVolume",
  "FMOD_SoundGroup_Stop",
  "FMOD_Sound_AddSyncPoint",
  "FMOD_Sound_DeleteSyncPoint",
  "FMOD_Sound_Get3DConeSettings",
  "FMOD_Sound_Get3DCustomRolloff",
  "FMOD_Sound_Get3DMinMaxDistance",
  "FMOD_Sound_GetDefaults",
  "FMOD_Sound_GetFormat",
  "FMOD_Sound_GetLength",
  "FMOD_Sound_GetLoopCount",
  "FMOD_Sound_GetLoopPoints",
  "FMOD_Sound_GetMode",
  "FMOD_Sound_GetMusicChannelVolume",
  "FMOD_Sound_GetMusicNumChannels",
  "FMOD_Sound_GetMusicSpeed",
  "FMOD_Sound_GetName",
  "FMOD_Sound_GetNumSubSounds",
  "FMOD_Sound_GetNumSyncPoints",
  "FMOD_Sound_GetNumTags",
  "FMOD_Sound_GetOpenState",
  "FMOD_Sound_GetSoundGroup",
  "FMOD_Sound_GetSubSound",
  "FMOD_Sound_GetSubSoundParent",
  "FMOD_Sound_GetSyncPoint",
  "FMOD_Sound_GetSyncPointInfo",
  "FMOD_Sound_GetSystemObject",
  "FMOD_Sound_GetTag",
  "FMOD_Sound_GetUserData",
  "FMOD_Sound_Lock",
  "FMOD_Sound_ReadData",
  "FMOD_Sound_Release",
  "FMOD_Sound_SeekData",
  "FMOD_Sound_Set3DConeSettings",
  "FMOD_Sound_Set3DCustomRolloff",
  "FMOD_Sound_Set3DMinMaxDistance",
  "FMOD_Sound_SetDefaults",
  "FMOD_Sound_SetLoopCount",
  "FMOD_Sound_SetLoopPoints",
  "FMOD_Sound_SetMode",
  "FMOD_Sound_SetMusicChannelVolume",
  "FMOD_Sound_SetMusicSpeed",
  "FMOD_Sound_SetSoundGroup",
  "FMOD_Sound_SetUserData",
  "FMOD_Sound_Unlock",
  "FMOD_System_AttachChannelGroupToPort",
  "FMOD_System_AttachFileSystem",
  "FMOD_System_Close",
  "FMOD_System_Create",
  "FMOD_System_CreateChannelGroup",
  "FMOD_System_CreateDSP",
  "FMOD_System_CreateDSPByPlugin",
  "FMOD_System_CreateDSPByType",
  "FMOD_System_CreateGeometry",
  "FMOD_System_CreateReverb3D",
  "FMOD_System_CreateSound",
  "FMOD_System_CreateSoundGroup",
  "FMOD_System_CreateStream",
  "FMOD_System_DetachChannelGroupFromPort",
  "FMOD_System_Get3DListenerAttributes",
  "FMOD_System_Get3DNumListeners",
  "FMOD_System_Get3DSettings",
  "FMOD_System_GetAdvancedSettings",
  "FMOD_System_GetCPUUsage",
  "FMOD_System_GetChannel",
  "FMOD_System_GetChannelsPlaying",
  "FMOD_System_GetDSPBufferSize",
  "FMOD_System_GetDSPInfoByPlugin",
  "FMOD_System_GetDSPInfoByType",
  "FMOD_System_GetDefaultMixMatrix",
  "FMOD_System_GetDriver",
  "FMOD_System_GetDriverInfo",
  "FMOD_System_GetFileUsage",
  "FMOD_System_GetGeometryOcclusion",
  "FMOD_System_GetGeometrySettings",
  "FMOD_System_GetMasterChannelGroup",
  "FMOD_System_GetMasterSoundGroup",
  "FMOD_System_GetNestedPlugin",
  "FMOD_System_GetNetworkProxy",
  "FMOD_System_GetNetworkTimeout",
  "FMOD_System_GetNumDrivers",
  "FMOD_System_GetNumNestedPlugins",
  "FMOD_System_GetNumPlugins",
  "FMOD_System_GetOutput",
  "FMOD_System_GetOutputByPlugin",
  "FMOD_System_GetOutputHandle",
  "FMOD_System_GetPluginHandle",
  "FMOD_System_GetPluginInfo",
  "FMOD_System_GetRecordDriverInfo",
  "FMOD_System_GetRecordNumDrivers",
  "FMOD_System_GetRecordPosition",
  "FMOD_System_GetReverbProperties",
  "FMOD_System_GetSoftwareChannels",
  "FMOD_System_GetSoftwareFormat",
  "FMOD_System_GetSpeakerModeChannels",
  "FMOD_System_GetSpeakerPosition",
  "FMOD_System_GetStreamBufferSize",
  "FMOD_System_GetUserData",
  "FMOD_System_GetVersion",
  "FMOD_System_Init",
  "FMOD_System_IsRecording",
  "FMOD_System_LoadGeometry",
  "FMOD_System_LoadPlugin",
  "FMOD_System_LockDSP",
  "FMOD_System_MixerResume",
  "FMOD_System_MixerSuspend",
  "FMOD_System_PlayDSP",
  "FMOD_System_PlaySound",
  "FMOD_System_RecordStart",
  "FMOD_System_RecordStop",
  "FMOD_System_RegisterCodec",
  "FMOD_System_RegisterDSP",
  "FMOD_System_RegisterOutput",
  "FMOD_System_Release",
  "FMOD_System_Set3DListenerAttributes",
  "FMOD_System_Set3DNumListeners",
  "FMOD_System_Set3DRolloffCallback",
  "FMOD_System_Set3DSettings",
  "FMOD_System_SetAdvancedSettings",
  "FMOD_System_SetCallback",
  "FMOD_System_SetDSPBufferSize",
  "FMOD_System_SetDriver",
  "FMOD_System_SetFileSystem",
  "FMOD_System_SetGeometrySettings",
  "FMOD_System_SetNetworkProxy",
  "FMOD_System_SetNetworkTimeout",
  "FMOD_System_SetOutput",
  "FMOD_System_SetOutputByPlugin",
  "FMOD_System_SetPluginPath",
  "FMOD_System_SetReverbProperties",
  "FMOD_System_SetSoftwareChannels",
  "FMOD_System_SetSoftwareFormat",
  "FMOD_System_SetSpeakerPosition",
  "FMOD_System_SetStreamBufferSize",
  "FMOD_System_SetUserData",
  "FMOD_System_UnloadPlugin",
  "FMOD_System_UnlockDSP",
  "FMOD_System_Update",
  "FMOD_Thread_SetAttributes",
  "_ZN4FMOD10SoundGroup11getUserDataEPPv",
  "_ZN4FMOD10SoundGroup11setUserDataEPv",
  "_ZN4FMOD10SoundGroup12getNumSoundsEPi",
  "_ZN4FMOD10SoundGroup13getMaxAudibleEPi",
  "_ZN4FMOD10SoundGroup13getNumPlayingEPi",
  "_ZN4FMOD10SoundGroup13setMaxAudibleEi",
  "_ZN4FMOD10SoundGroup15getSystemObjectEPPNS_6SystemE",
  "_ZN4FMOD10SoundGroup16getMuteFadeSpeedEPf",
  "_ZN4FMOD10SoundGroup16setMuteFadeSpeedEf",
  "_ZN4FMOD10SoundGroup21getMaxAudibleBehaviorEP24FMOD_SOUNDGROUP_BEHAVIOR",
  "_ZN4FMOD10SoundGroup21setMaxAudibleBehaviorE24FMOD_SOUNDGROUP_BEHAVIOR",
  "_ZN4FMOD10SoundGroup4stopEv",
  "_ZN4FMOD10SoundGroup7getNameEPci",
  "_ZN4FMOD10SoundGroup7releaseEv",
  "_ZN4FMOD10SoundGroup8getSoundEiPPNS_5SoundE",
  "_ZN4FMOD10SoundGroup9getVolumeEPf",
  "_ZN4FMOD10SoundGroup9setVolumeEf",
  "_ZN4FMOD10getGlobalsEPPNS_6GlobalE",
  "_ZN4FMOD12ChannelGroup10getChannelEiPPNS_7ChannelE",
  "_ZN4FMOD12ChannelGroup12getNumGroupsEPi",
  "_ZN4FMOD12ChannelGroup14getNumChannelsEPi",
  "_ZN4FMOD12ChannelGroup14getParentGroupEPPS0_",
  "_ZN4FMOD12ChannelGroup7getNameEPci",
  "_ZN4FMOD12ChannelGroup7releaseEv",
  "_ZN4FMOD12ChannelGroup8addGroupEPS0_bPPNS_13DSPConnectionE",
  "_ZN4FMOD12ChannelGroup8getGroupEiPPS0_",
  "_ZN4FMOD13DSPConnection11getUserDataEPPv",
  "_ZN4FMOD13DSPConnection11setUserDataEPv",
  "_ZN4FMOD13DSPConnection12getMixMatrixEPfPiS2_i",
  "_ZN4FMOD13DSPConnection12setMixMatrixEPfiii",
  "_ZN4FMOD13DSPConnection6getMixEPf",
  "_ZN4FMOD13DSPConnection6setMixEf",
  "_ZN4FMOD13DSPConnection7getTypeEP23FMOD_DSPCONNECTION_TYPE",
  "_ZN4FMOD13DSPConnection8getInputEPPNS_3DSPE",
  "_ZN4FMOD13DSPConnection9getOutputEPPNS_3DSPE",
  "_ZN4FMOD14ChannelControl10get3DLevelEPf",
  "_ZN4FMOD14ChannelControl10getNumDSPsEPi",
  "_ZN4FMOD14ChannelControl10set3DLevelEf",
  "_ZN4FMOD14ChannelControl11get3DSpreadEPf",
  "_ZN4FMOD14ChannelControl11getDSPClockEPyS1_",
  "_ZN4FMOD14ChannelControl11getDSPIndexEPNS_3DSPEPi",
  "_ZN4FMOD14ChannelControl11getUserDataEPPv",
  "_ZN4FMOD14ChannelControl11set3DSpreadEf",
  "_ZN4FMOD14ChannelControl11setCallbackEPF11FMOD_RESULTP19FMOD_CHANNELCONTROL24FMOD_CHANNELCONTROL_TYPE33FMOD_CHANNELCONTROL_CALLBACK_TYPEPvS6_E",
  "_ZN4FMOD14ChannelControl11setDSPIndexEPNS_3DSPEi",
  "_ZN4FMOD14ChannelControl11setUserDataEPv",
  "_ZN4FMOD14ChannelControl12addFadePointEyf",
  "_ZN4FMOD14ChannelControl12getMixMatrixEPfPiS2_i",
  "_ZN4FMOD14ChannelControl12setMixMatrixEPfiii",
  "_ZN4FMOD14ChannelControl13getAudibilityEPf",
  "_ZN4FMOD14ChannelControl13getFadePointsEPjPyPf",
  "_ZN4FMOD14ChannelControl13getVolumeRampEPb",
  "_ZN4FMOD14ChannelControl13setVolumeRampEb",
  "_ZN4FMOD14ChannelControl14get3DOcclusionEPfS1_",
  "_ZN4FMOD14ChannelControl14getLowPassGainEPf",
  "_ZN4FMOD14ChannelControl14set3DOcclusionEff",
  "_ZN4FMOD14ChannelControl14setLowPassGainEf",
  "_ZN4FMOD14ChannelControl15get3DAttributesEP11FMOD_VECTORS2_",
  "_ZN4FMOD14ChannelControl15getSystemObjectEPPNS_6SystemE",
  "_ZN4FMOD14ChannelControl15set3DAttributesEPK11FMOD_VECTORS3_",
  "_ZN4FMOD14ChannelControl16removeFadePointsEyy",
  "_ZN4FMOD14ChannelControl16setFadePointRampEyf",
  "_ZN4FMOD14ChannelControl17get3DConeSettingsEPfS1_S1_",
  "_ZN4FMOD14ChannelControl17get3DDopplerLevelEPf",
  "_ZN4FMOD14ChannelControl17set3DConeSettingsEfff",
  "_ZN4FMOD14ChannelControl17set3DDopplerLevelEf",
  "_ZN4FMOD14ChannelControl17setMixLevelsInputEPfi",
  "_ZN4FMOD14ChannelControl18get3DCustomRolloffEPP11FMOD_VECTORPi",
  "_ZN4FMOD14ChannelControl18set3DCustomRolloffEP11FMOD_VECTORi",
  "_ZN4FMOD14ChannelControl18setMixLevelsOutputEffffffff",
  "_ZN4FMOD14ChannelControl19get3DDistanceFilterEPbPfS2_",
  "_ZN4FMOD14ChannelControl19get3DMinMaxDistanceEPfS1_",
  "_ZN4FMOD14ChannelControl19getReverbPropertiesEiPf",
  "_ZN4FMOD14ChannelControl19set3DDistanceFilterEbff",
  "_ZN4FMOD14ChannelControl19set3DMinMaxDistanceEff",
  "_ZN4FMOD14ChannelControl19setReverbPropertiesEif",
  "_ZN4FMOD14ChannelControl20get3DConeOrientationEP11FMOD_VECTOR",
  "_ZN4FMOD14ChannelControl20set3DConeOrientationEP11FMOD_VECTOR",
  "_ZN4FMOD14ChannelControl4stopEv",
  "_ZN4FMOD14ChannelControl6addDSPEiPNS_3DSPE",
  "_ZN4FMOD14ChannelControl6getDSPEiPPNS_3DSPE",
  "_ZN4FMOD14ChannelControl6setPanEf",
  "_ZN4FMOD14ChannelControl7getModeEPj",
  "_ZN4FMOD14ChannelControl7getMuteEPb",
  "_ZN4FMOD14ChannelControl7setModeEj",
  "_ZN4FMOD14ChannelControl7setMuteEb",
  "_ZN4FMOD14ChannelControl8getDelayEPyS1_Pb",
  "_ZN4FMOD14ChannelControl8getPitchEPf",
  "_ZN4FMOD14ChannelControl8setDelayEyyb",
  "_ZN4FMOD14ChannelControl8setPitchEf",
  "_ZN4FMOD14ChannelControl9getPausedEPb",
  "_ZN4FMOD14ChannelControl9getVolumeEPf",
  "_ZN4FMOD14ChannelControl9isPlayingEPb",
  "_ZN4FMOD14ChannelControl9removeDSPEPNS_3DSPE",
  "_ZN4FMOD14ChannelControl9setPausedEb",
  "_ZN4FMOD14ChannelControl9setVolumeEf",
  "_ZN4FMOD3DSP11getCPUUsageEPjS1_",
  "_ZN4FMOD3DSP11getUserDataEPPv",
  "_ZN4FMOD3DSP11setUserDataEPv",
  "_ZN4FMOD3DSP12getNumInputsEPi",
  "_ZN4FMOD3DSP12getWetDryMixEPfS1_S1_",
  "_ZN4FMOD3DSP12setWetDryMixEfff",
  "_ZN4FMOD3DSP13disconnectAllEbb",
  "_ZN4FMOD3DSP13getNumOutputsEPi",
  "_ZN4FMOD3DSP14disconnectFromEPS0_PNS_13DSPConnectionE",
  "_ZN4FMOD3DSP15getMeteringInfoEP22FMOD_DSP_METERING_INFOS2_",
  "_ZN4FMOD3DSP15getParameterIntEiPiPci",
  "_ZN4FMOD3DSP15getSystemObjectEPPNS_6SystemE",
  "_ZN4FMOD3DSP15setParameterIntEii",
  "_ZN4FMOD3DSP16getChannelFormatEPjPiP16FMOD_SPEAKERMODE",
  "_ZN4FMOD3DSP16getNumParametersEPi",
  "_ZN4FMOD3DSP16getParameterBoolEiPbPci",
  "_ZN4FMOD3DSP16getParameterDataEiPPvPjPci",
  "_ZN4FMOD3DSP16getParameterInfoEiPP23FMOD_DSP_PARAMETER_DESC",
  "_ZN4FMOD3DSP16setChannelFormatEji16FMOD_SPEAKERMODE",
  "_ZN4FMOD3DSP16setParameterBoolEib",
  "_ZN4FMOD3DSP16setParameterDataEiPvj",
  "_ZN4FMOD3DSP16showConfigDialogEPvb",
  "_ZN4FMOD3DSP17getParameterFloatEiPfPci",
  "_ZN4FMOD3DSP17setParameterFloatEif",
  "_ZN4FMOD3DSP18getMeteringEnabledEPbS1_",
  "_ZN4FMOD3DSP18setMeteringEnabledEbb",
  "_ZN4FMOD3DSP21getDataParameterIndexEiPi",
  "_ZN4FMOD3DSP22getOutputChannelFormatEji16FMOD_SPEAKERMODEPjPiPS1_",
  "_ZN4FMOD3DSP5resetEv",
  "_ZN4FMOD3DSP7getIdleEPb",
  "_ZN4FMOD3DSP7getInfoEPcPjPiS3_S3_",
  "_ZN4FMOD3DSP7getTypeEP13FMOD_DSP_TYPE",
  "_ZN4FMOD3DSP7releaseEv",
  "_ZN4FMOD3DSP8addInputEPS0_PPNS_13DSPConnectionE23FMOD_DSPCONNECTION_TYPE",
  "_ZN4FMOD3DSP8getInputEiPPS0_PPNS_13DSPConnectionE",
  "_ZN4FMOD3DSP9getActiveEPb",
  "_ZN4FMOD3DSP9getBypassEPb",
  "_ZN4FMOD3DSP9getOutputEiPPS0_PPNS_13DSPConnectionE",
  "_ZN4FMOD3DSP9setActiveEb",
  "_ZN4FMOD3DSP9setBypassEb",
  "_ZN4FMOD4DSPI8validateEPNS_3DSPEPPS0_PNS_15SystemLockScopeE",
  "_ZN4FMOD5Sound10getNumTagsEPiS1_",
  "_ZN4FMOD5Sound11getDefaultsEPfPi",
  "_ZN4FMOD5Sound11getSubSoundEiPPS0_",
  "_ZN4FMOD5Sound11getUserDataEPPv",
  "_ZN4FMOD5Sound11setDefaultsEfi",
  "_ZN4FMOD5Sound11setUserDataEPv",
  "_ZN4FMOD5Sound12addSyncPointEjjPKcPP14FMOD_SYNCPOINT",
  "_ZN4FMOD5Sound12getLoopCountEPi",
  "_ZN4FMOD5Sound12getOpenStateEP14FMOD_OPENSTATEPjPbS4_",
  "_ZN4FMOD5Sound12getSyncPointEiPP14FMOD_SYNCPOINT",
  "_ZN4FMOD5Sound12setLoopCountEi",
  "_ZN4FMOD5Sound13getLoopPointsEPjjS1_j",
  "_ZN4FMOD5Sound13getMusicSpeedEPf",
  "_ZN4FMOD5Sound13getSoundGroupEPPNS_10SoundGroupE",
  "_ZN4FMOD5Sound13setLoopPointsEjjjj",
  "_ZN4FMOD5Sound13setMusicSpeedEf",
  "_ZN4FMOD5Sound13setSoundGroupEPNS_10SoundGroupE",
  "_ZN4FMOD5Sound15deleteSyncPointEP14FMOD_SYNCPOINT",
  "_ZN4FMOD5Sound15getNumSubSoundsEPi",
  "_ZN4FMOD5Sound15getSystemObjectEPPNS_6SystemE",
  "_ZN4FMOD5Sound16getNumSyncPointsEPi",
  "_ZN4FMOD5Sound16getSyncPointInfoEP14FMOD_SYNCPOINTPciPjj",
  "_ZN4FMOD5Sound17get3DConeSettingsEPfS1_S1_",
  "_ZN4FMOD5Sound17getSubSoundParentEPPS0_",
  "_ZN4FMOD5Sound17set3DConeSettingsEfff",
  "_ZN4FMOD5Sound18get3DCustomRolloffEPP11FMOD_VECTORPi",
  "_ZN4FMOD5Sound18set3DCustomRolloffEP11FMOD_VECTORi",
  "_ZN4FMOD5Sound19get3DMinMaxDistanceEPfS1_",
  "_ZN4FMOD5Sound19getMusicNumChannelsEPi",
  "_ZN4FMOD5Sound19set3DMinMaxDistanceEff",
  "_ZN4FMOD5Sound21getMusicChannelVolumeEiPf",
  "_ZN4FMOD5Sound21setMusicChannelVolumeEif",
  "_ZN4FMOD5Sound4lockEjjPPvS2_PjS3_",
  "_ZN4FMOD5Sound6getTagEPKciP8FMOD_TAG",
  "_ZN4FMOD5Sound6unlockEPvS1_jj",
  "_ZN4FMOD5Sound7getModeEPj",
  "_ZN4FMOD5Sound7getNameEPci",
  "_ZN4FMOD5Sound7releaseEv",
  "_ZN4FMOD5Sound7setModeEj",
  "_ZN4FMOD5Sound8readDataEPvjPj",
  "_ZN4FMOD5Sound8seekDataEj",
  "_ZN4FMOD5Sound9getFormatEP15FMOD_SOUND_TYPEP17FMOD_SOUND_FORMATPiS5_",
  "_ZN4FMOD5Sound9getLengthEPjj",
  "_ZN4FMOD6SoundI19getUserDataInternalEPPv",
  "_ZN4FMOD6SoundI19setUserDataInternalEPv",
  "_ZN4FMOD6System10getChannelEiPPNS_7ChannelE",
  "_ZN4FMOD6System10getVersionEPj",
  "_ZN4FMOD6System10loadPluginEPKcPjj",
  "_ZN4FMOD6System10recordStopEi",
  "_ZN4FMOD6System11createSoundEPKcjP22FMOD_CREATESOUNDEXINFOPPNS_5SoundE",
  "_ZN4FMOD6System11getCPUUsageEP14FMOD_CPU_USAGE",
  "_ZN4FMOD6System11getUserDataEPPv",
  "_ZN4FMOD6System11isRecordingEiPb",
  "_ZN4FMOD6System11mixerResumeEv",
  "_ZN4FMOD6System11recordStartEiPNS_5SoundEb",
  "_ZN4FMOD6System11registerDSPEPK20FMOD_DSP_DESCRIPTIONPj",
  "_ZN4FMOD6System11setCallbackEPF11FMOD_RESULTP11FMOD_SYSTEMjPvS4_S4_Ej",
  "_ZN4FMOD6System11setUserDataEPv",
  "_ZN4FMOD6System12createStreamEPKcjP22FMOD_CREATESOUNDEXINFOPPNS_5SoundE",
  "_ZN4FMOD6System12getFileUsageEPxS1_S1_",
  "_ZN4FMOD6System12loadGeometryEPKviPPNS_8GeometryE",
  "_ZN4FMOD6System12mixerSuspendEv",
  "_ZN4FMOD6System12unloadPluginEj",
  "_ZN4FMOD6System13get3DSettingsEPfS1_S1_",
  "_ZN4FMOD6System13getDriverInfoEiPciP9FMOD_GUIDPiP16FMOD_SPEAKERMODES4_",
  "_ZN4FMOD6System13getNumDriversEPi",
  "_ZN4FMOD6System13getNumPluginsE15FMOD_PLUGINTYPEPi",
  "_ZN4FMOD6System13getPluginInfoEjP15FMOD_PLUGINTYPEPciPj",
  "_ZN4FMOD6System13registerCodecEP22FMOD_CODEC_DESCRIPTIONPjj",
  "_ZN4FMOD6System13set3DSettingsEfff",
  "_ZN4FMOD6System13setFileSystemEPF11FMOD_RESULTPKcPjPPvS5_EPFS1_S5_S5_EPFS1_S5_S5_jS4_S5_EPFS1_S5_jS5_EPFS1_P18FMOD_ASYNCREADINFOS5_ESI_i",
  "_ZN4FMOD6System13setPluginPathEPKc",
  "_ZN4FMOD6System14createGeometryEiiPPNS_8GeometryE",
  "_ZN4FMOD6System14createReverb3DEPPNS_8Reverb3DE",
  "_ZN4FMOD6System14registerOutputEPK23FMOD_OUTPUT_DESCRIPTIONPj",
  "_ZN4FMOD6System15createDSPByTypeE13FMOD_DSP_TYPEPPNS_3DSPE",
  "_ZN4FMOD6System15getNestedPluginEjiPj",
  "_ZN4FMOD6System15getNetworkProxyEPci",
  "_ZN4FMOD6System15getOutputHandleEPPv",
  "_ZN4FMOD6System15getPluginHandleE15FMOD_PLUGINTYPEiPj",
  "_ZN4FMOD6System15setNetworkProxyEPKc",
  "_ZN4FMOD6System16attachFileSystemEPF11FMOD_RESULTPKcPjPPvS5_EPFS1_S5_S5_EPFS1_S5_S5_jS4_S5_EPFS1_S5_jS5_E",
  "_ZN4FMOD6System16createSoundGroupEPKcPPNS_10SoundGroupE",
  "_ZN4FMOD6System16getDSPBufferSizeEPjPi",
  "_ZN4FMOD6System16getDSPInfoByTypeE13FMOD_DSP_TYPEPPK20FMOD_DSP_DESCRIPTION",
  "_ZN4FMOD6System16setDSPBufferSizeEji",
  "_ZN4FMOD6System17createDSPByPluginEjPPNS_3DSPE",
  "_ZN4FMOD6System17get3DNumListenersEPi",
  "_ZN4FMOD6System17getNetworkTimeoutEPi",
  "_ZN4FMOD6System17getOutputByPluginEPj",
  "_ZN4FMOD6System17getRecordPositionEiPj",
  "_ZN4FMOD6System17getSoftwareFormatEPiP16FMOD_SPEAKERMODES1_",
  "_ZN4FMOD6System17set3DNumListenersEi",
  "_ZN4FMOD6System17setNetworkTimeoutEi",
  "_ZN4FMOD6System17setOutputByPluginEj",
  "_ZN4FMOD6System17setSoftwareFormatEi16FMOD_SPEAKERMODEi",
  "_ZN4FMOD6System18createChannelGroupEPKcPPNS_12ChannelGroupE",
  "_ZN4FMOD6System18getChannelsPlayingEPiS1_",
  "_ZN4FMOD6System18getDSPInfoByPluginEjPPK20FMOD_DSP_DESCRIPTION",
  "_ZN4FMOD6System18getSpeakerPositionE12FMOD_SPEAKERPfS2_Pb",
  "_ZN4FMOD6System18setSpeakerPositionE12FMOD_SPEAKERffb",
  "_ZN4FMOD6System19getAdvancedSettingsEP21FMOD_ADVANCEDSETTINGS",
  "_ZN4FMOD6System19getDefaultMixMatrixE16FMOD_SPEAKERMODES1_Pfi",
  "_ZN4FMOD6System19getGeometrySettingsEPf",
  "_ZN4FMOD6System19getMasterSoundGroupEPPNS_10SoundGroupE",
  "_ZN4FMOD6System19getNumNestedPluginsEjPi",
  "_ZN4FMOD6System19getRecordDriverInfoEiPciP9FMOD_GUIDPiP16FMOD_SPEAKERMODES4_Pj",
  "_ZN4FMOD6System19getRecordNumDriversEPiS1_",
  "_ZN4FMOD6System19getReverbPropertiesEiP22FMOD_REVERB_PROPERTIES",
  "_ZN4FMOD6System19getSoftwareChannelsEPi",
  "_ZN4FMOD6System19getStreamBufferSizeEPjS1_",
  "_ZN4FMOD6System19setAdvancedSettingsEP21FMOD_ADVANCEDSETTINGS",
  "_ZN4FMOD6System19setGeometrySettingsEf",
  "_ZN4FMOD6System19setReverbPropertiesEiPK22FMOD_REVERB_PROPERTIES",
  "_ZN4FMOD6System19setSoftwareChannelsEi",
  "_ZN4FMOD6System19setStreamBufferSizeEjj",
  "_ZN4FMOD6System20getGeometryOcclusionEPK11FMOD_VECTORS3_PfS4_",
  "_ZN4FMOD6System20set3DRolloffCallbackEPFfP19FMOD_CHANNELCONTROLfE",
  "_ZN4FMOD6System21getMasterChannelGroupEPPNS_12ChannelGroupE",
  "_ZN4FMOD6System22getSpeakerModeChannelsE16FMOD_SPEAKERMODEPi",
  "_ZN4FMOD6System23get3DListenerAttributesEiP11FMOD_VECTORS2_S2_S2_",
  "_ZN4FMOD6System23set3DListenerAttributesEiPK11FMOD_VECTORS3_S3_S3_",
  "_ZN4FMOD6System24attachChannelGroupToPortE14FMOD_PORT_TYPEyPNS_12ChannelGroupEb",
  "_ZN4FMOD6System26detachChannelGroupFromPortEPNS_12ChannelGroupE",
  "_ZN4FMOD6System4initEijPv",
  "_ZN4FMOD6System5closeEv",
  "_ZN4FMOD6System6updateEv",
  "_ZN4FMOD6System7lockDSPEv",
  "_ZN4FMOD6System7playDSPEPNS_3DSPEPNS_12ChannelGroupEbPPNS_7ChannelE",
  "_ZN4FMOD6System7releaseEv",
  "_ZN4FMOD6System9createDSPEPK20FMOD_DSP_DESCRIPTIONPPNS_3DSPE",
  "_ZN4FMOD6System9getDriverEPi",
  "_ZN4FMOD6System9getOutputEP15FMOD_OUTPUTTYPE",
  "_ZN4FMOD6System9playSoundEPNS_5SoundEPNS_12ChannelGroupEbPPNS_7ChannelE",
  "_ZN4FMOD6System9setDriverEi",
  "_ZN4FMOD6System9setOutputE15FMOD_OUTPUTTYPE",
  "_ZN4FMOD6System9unlockDSPEv",
  "_ZN4FMOD7Channel11getPositionEPjj",
  "_ZN4FMOD7Channel11getPriorityEPi",
  "_ZN4FMOD7Channel11setPositionEjj",
  "_ZN4FMOD7Channel11setPriorityEi",
  "_ZN4FMOD7Channel12getFrequencyEPf",
  "_ZN4FMOD7Channel12getLoopCountEPi",
  "_ZN4FMOD7Channel12setFrequencyEf",
  "_ZN4FMOD7Channel12setLoopCountEi",
  "_ZN4FMOD7Channel13getLoopPointsEPjjS1_j",
  "_ZN4FMOD7Channel13setLoopPointsEjjjj",
  "_ZN4FMOD7Channel15getChannelGroupEPPNS_12ChannelGroupE",
  "_ZN4FMOD7Channel15getCurrentSoundEPPNS_5SoundE",
  "_ZN4FMOD7Channel15setChannelGroupEPNS_12ChannelGroupE",
  "_ZN4FMOD7Channel8getIndexEPi",
  "_ZN4FMOD7Channel9isVirtualEPb",
  "_ZN4FMOD7SystemI14createDiskFileEPKcP22FMOD_CREATESOUNDEXINFOPPNS_4FileEPb",
  "_ZN4FMOD7SystemI16createMemoryFileEPPNS_4FileE",
  "_ZN4FMOD7SystemI19createClientProfileEv",
  "_ZN4FMOD7SystemI19setInternalCallbackEiPF11FMOD_RESULTP11FMOD_SYSTEMjPvS4_S4_ES4_",
  "_ZN4FMOD7SystemI8validateEPNS_6SystemEPPS0_PNS_15SystemLockScopeE",
  "_ZN4FMOD8ChannelI8validateEPNS_7ChannelEPPS0_PNS_15SystemLockScopeE",
  "_ZN4FMOD8Geometry10addPolygonEffbiPK11FMOD_VECTORPi",
  "_ZN4FMOD8Geometry11getPositionEP11FMOD_VECTOR",
  "_ZN4FMOD8Geometry11getRotationEP11FMOD_VECTORS2_",
  "_ZN4FMOD8Geometry11getUserDataEPPv",
  "_ZN4FMOD8Geometry11setPositionEPK11FMOD_VECTOR",
  "_ZN4FMOD8Geometry11setRotationEPK11FMOD_VECTORS3_",
  "_ZN4FMOD8Geometry11setUserDataEPv",
  "_ZN4FMOD8Geometry14getMaxPolygonsEPiS1_",
  "_ZN4FMOD8Geometry14getNumPolygonsEPi",
  "_ZN4FMOD8Geometry16getPolygonVertexEiiP11FMOD_VECTOR",
  "_ZN4FMOD8Geometry16setPolygonVertexEiiPK11FMOD_VECTOR",
  "_ZN4FMOD8Geometry20getPolygonAttributesEiPfS1_Pb",
  "_ZN4FMOD8Geometry20setPolygonAttributesEiffb",
  "_ZN4FMOD8Geometry21getPolygonNumVerticesEiPi",
  "_ZN4FMOD8Geometry4saveEPvPi",
  "_ZN4FMOD8Geometry7releaseEv",
  "_ZN4FMOD8Geometry8getScaleEP11FMOD_VECTOR",
  "_ZN4FMOD8Geometry8setScaleEPK11FMOD_VECTOR",
  "_ZN4FMOD8Geometry9getActiveEPb",
  "_ZN4FMOD8Geometry9setActiveEb",
  "_ZN4FMOD8Reverb3D11getUserDataEPPv",
  "_ZN4FMOD8Reverb3D11setUserDataEPv",
  "_ZN4FMOD8Reverb3D13getPropertiesEP22FMOD_REVERB_PROPERTIES",
  "_ZN4FMOD8Reverb3D13setPropertiesEPK22FMOD_REVERB_PROPERTIES",
  "_ZN4FMOD8Reverb3D15get3DAttributesEP11FMOD_VECTORPfS3_",
  "_ZN4FMOD8Reverb3D15set3DAttributesEPK11FMOD_VECTORff",
  "_ZN4FMOD8Reverb3D7releaseEv",
  "_ZN4FMOD8Reverb3D9getActiveEPb",
  "_ZN4FMOD8Reverb3D9setActiveEb",
  "_ZN4FMOD9GeometryI11getUserDataEPPv",
  "_ZN4FMOD9GeometryI11setUserDataEPv",
  0
};

#define SYM_COUNT (sizeof(sym_names)/sizeof(sym_names[0]) - 1)

extern void *_libfmod_so_tramp_table[];

// Can be sped up by manually parsing library symtab...
void _libfmod_so_tramp_resolve(int i) {
  assert((unsigned)i < SYM_COUNT);

  CHECK(!is_lib_loading, "library function '%s' called during library load", sym_names[i]);

  void *h = 0;
#if NO_DLOPEN
  // Library with implementations must have already been loaded.
  if (lib_handle) {
    // User has specified loaded library
    h = lib_handle;
  } else {
    // User hasn't provided us the loaded library so search the global namespace.
#   ifndef IMPLIB_EXPORT_SHIMS
    // If shim symbols are hidden we should search
    // for first available definition of symbol in library list
    h = RTLD_DEFAULT;
#   else
    // Otherwise look for next available definition
    h = RTLD_NEXT;
#   endif
  }
#else
  h = load_library();
  CHECK(h, "failed to resolve symbol '%s', library failed to load", sym_names[i]);
#endif

#if HAS_DLSYM_CALLBACK
  extern void *(void *handle, const char *sym_name);
  _libfmod_so_tramp_table[i] = (h, sym_names[i]);
  CHECK(_libfmod_so_tramp_table[i], "failed to resolve symbol '%s' via callback ", sym_names[i]);
#else
  // Dlsym is thread-safe so don't need to protect it.
  _libfmod_so_tramp_table[i] = dlsym(h, sym_names[i]);
  CHECK(_libfmod_so_tramp_table[i], "failed to resolve symbol '%s' via dlsym: %s", sym_names[i], dlerror());
#endif
}

// Helper for user to resolve all symbols
void _libfmod_so_tramp_resolve_all(void) {
  size_t i;
  for(i = 0; i < SYM_COUNT; ++i)
    _libfmod_so_tramp_resolve(i);
}

// Allows user to specify manually loaded implementation library.
void _libfmod_so_tramp_set_handle(void *handle) {
  lib_handle = handle;
  do_dlclose = 0;
}

// Resets all resolved symbols. This is needed in case
// client code wants to reload interposed library multiple times.
void _libfmod_so_tramp_reset(void) {
  memset(_libfmod_so_tramp_table, 0, SYM_COUNT * sizeof(_libfmod_so_tramp_table[0]));
  lib_handle = 0;
  do_dlclose = 0;
}

#ifdef __cplusplus
}  // extern "C"
#endif
